<table id="table_form">
  <tr>
    <td class="label_td"><label>Nom</label></td>
    <td><%= f.text_field :name %></td>
  </tr>  
  <tr>
    <td class="label_td"><label>Marque</label></td>
    <td><%= f.text_field :brand %></td>
  </tr>
  <tr>
    <td class="label_td"><label>Modèle</label></td>
    <td><%= f.text_field :version %></td>
  </tr>
  <tr>
    <td class="label_td"><label>Quantité</label></td>
    <td><%= f.text_field :quantity %></td>
  </tr>
   <tr>
    <td class="label_td"><label>Laboratoire</label></td>
    <td><%= f.select :laboratory_id, Laboratory.all.collect{|a| [a.name, a.id]}.sort %></td>
  </tr>
  <tr>
    <td class="label_td"><label>Principes de fonctionnement</label></td>
    <td><%= f.text_area :operating_principles %></td>
  </tr>
  <tr>
    <td class="label_td"><label>Caractéristiques techniques</label></td>
    <td><%= f.text_area :specifications %></td>
  </tr>
  <tr>
    <td class="label_td"><label>Document explicatif </label></td>
    <td><%= f.text_area :explanatory_document %></td>
  </tr>
  
  <tr>
    <td class="label_td"><label>Date d'achat </label></td>
    <td><%= f.text_field :purchase_date %></td>
  </tr> 
  <tr>
    <td class="label_td"><label>Prêt possible(uniquement sur le site de l’organisme propriétaire)</label></td>
    <td><%=  f.radio_button :use_on_site, true %>Oui
    <%=  f.radio_button :use_on_site, false %>Non</td>

  </tr>
  <tr>
    <td class="label_td"><label>Conditions d'utilisation</label></td>
    <td><%= f.select :use_condition_ids, (UseCondition.for_tools.collect{|c| [c.conditions, c.id]}<<["- Aucune -",""]).sort,{}, {:multiple => true} %></td>
  </tr>
   <tr>
    <td class="label_td"><label>N° d’enregistrement interne</label></td>
    <td><%= f.text_area :internal_number %></td>
  </tr>
  <tr>
    <td><label>Localisation sur le site</label></td>
    <td><%= f.select :mi_localization_on_site, [["Variable", "Variable"], ["Définie", "Définie"]] %></td>
  </tr>
  <tr id="tr_precisions">
    <td><label>Précisions</label></td>
    <td><%= f.text_area :localization_on_site_precision %></td>
  </tr>
  
  <tr>
    <td class="label_td"><label>Autre(s) commentaire(s) </label></td>
    <td><%= f.text_area :comment %></td>
  </tr> 
  
   
  <tr>
    <td class="label_td"><label>Lien internet</label></td>
    <td><%= f.text_field :website %></td>
  </tr>
  <tr>
    <td class="label_td"><label>Equipement liés</label></td>
    <td><%= f.select :linked_tools,  @tool_engine.new_record? ? (Tool.all.collect{|c| [c.name, c.id]}<<["- Aucun -",""]).sort :
    (((Tool.all-(@tool_engine.to_a)).collect{|c| [c.name, c.id]}<<["- Aucun -",""]).sort),
  {:selected => (@tool_engine.relations_from.collect(&:tool_to_id)+@tool_engine.relations_to.collect(&:tool_from_id)).flatten.uniq},{:multiple => true} %></td>
  </tr>
   <tr>
    <td class="label_td"><label>Correspondants</label></td>
    <td><%= f.select :correspondent_ids, (User.correspondents.collect{|c| [c.name, c.id]}<<["- Aucun -",""]).sort,{}, :multiple => true %></td>
  </tr>
  <tr>
    <td class="label_td"><label>Affichage sur site</label></td>
   <td>
   <%=  f.radio_button :privacy, "Tous publics", {:checked => @tool_engine.new_record? || !@tool_engine.privacy.eql?("Restreint") ? true : false} %>Tous publics
      <%=  f.radio_button :privacy, "Restreint", {:checked => @tool_engine.privacy.eql?("Restreint")} %>Restreint
</td>
  </tr>
</table>


<%= javascript_tag("
  $(document).ready(function () {
 if ($('#measuring_engine_mi_localization_on_site').val()=='Variable'){
        $('#tr_precisions').hide();
      }else {
        $('#tr_precisions').show();
      }
    $('#measuring_engine_mi_localization_on_site').change(function() {
      if ($(this).val()=='Variable'){
        $('#tr_precisions').hide();
      }else {
        $('#tr_precisions').show();
      }

    });
  });") %>